(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[828],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return l},kt:function(){return f}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=u(n),f=o,h=p["".concat(c,".").concat(f)]||p[f]||d[f]||i;return n?r.createElement(h,a(a({ref:t},l),{},{components:n})):r.createElement(h,a({ref:t},l))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var u=2;u<i;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9910:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g},frontMatter:function(){return f},metadata:function(){return h},toc:function(){return m}});var r=n(2122),o=n(9756),i=n(7294),a=n(3905),s="wrapper_2eU_",c="title_1w1N",u="titleInner_3q5F",l="icon_1r91",d=function(e){var t=e.children,n=e.name;return i.createElement("div",{className:s},i.createElement("div",{className:c},i.createElement("div",{className:u},i.createElement("svg",{className:l,viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"})),i.createElement("span",null,n))),t)},p=["components"],f={sidebar_position:4},h={unversionedId:"how-to-use/question-referencing",id:"how-to-use/question-referencing",isDocsHomePage:!1,title:"Question referencing",description:"Copy-pasting code between one-off analyses will leave you a mountain of technical debt. Question referencing allows you abstract essential business logic, and reference it in future analysis. They are the LEGO blocks for your analysis.",source:"@site/docs/how-to-use/question-referencing.md",sourceDirName:"how-to-use",slug:"/how-to-use/question-referencing",permalink:"/docs/how-to-use/question-referencing",editUrl:"https://github.com/tellery/website/edit/master/docs/how-to-use/question-referencing.md",version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Data asset",permalink:"/docs/how-to-use/data-asset"},next:{title:"Learn the shortcut",permalink:"/docs/how-to-use/shortcut"}},m=[{value:"What is a question reference?",id:"what-is-a-question-reference",children:[]},{value:"How to reference questions?",id:"how-to-reference-questions",children:[{value:"Copy their URLs",id:"copy-their-urls",children:[]},{value:"Search for them",id:"search-for-them",children:[]}]},{value:"Some Advice on transformation",id:"some-advice-on-transformation",children:[]}],y={toc:m};function g(e){var t=e.components,n=(0,o.Z)(e,p);return(0,a.kt)("wrapper",(0,r.Z)({},y,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Copy-pasting code between one-off analyses will leave you a mountain of technical debt. Question referencing allows you abstract essential business logic, and reference it in future analysis. They are the LEGO blocks for your analysis."),(0,a.kt)("p",null,"Enter powerful question references."),(0,a.kt)("h2",{id:"what-is-a-question-reference"},"What is a question reference?"),(0,a.kt)("p",null,"Question reference is a lightweight modeling mechanism to grasp the nuances of your data. Rather than select from existing tables and views in your data warehouse, you can select from another question. Tellery will pull the code from question reference into dependent questions as a common table expression."),(0,a.kt)("p",null,"Question references show the title of the question by default. You can recognize a question reference by the highlight:"),(0,a.kt)("img",{src:"/img/tutorial/question-reference.png"}),(0,a.kt)("p",null,"For example, consider a question which defines ",(0,a.kt)("em",{parentName:"p"},"active customers"),":"),(0,a.kt)(d,{name:"active customers",mdxType:"Question"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"select\n    date_trunc('day', occurred_at) as dt,\n    date_trunc('year', occurred_at) as year,\n    region,\n    gender,\n    user_id\nfrom fact_user_engagement\nwhere event in ('add_to_cart', 'checkout')\n"))),(0,a.kt)("p",null,"This question captures the nuances of datasets and allows future analytics code to make meaningful choices on appropriate granularity of it."),(0,a.kt)("p",null,"The following question references it, applies specific filtering and grouping, and asks ",(0,a.kt)("em",{parentName:"p"},"what's the number of daily active customers in 2021, by region"),":"),(0,a.kt)(d,{name:"the number of daily active customers in 2021, by region",mdxType:"Question"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"select\n    dt, region, count(distinct user_id) as dau\nfrom {{active customers}}\nwhere year = 2021 \ngroup by 1,2\n"))),(0,a.kt)("h2",{id:"how-to-reference-questions"},"How to reference questions?"),(0,a.kt)("h3",{id:"copy-their-urls"},"Copy their URLs"),(0,a.kt)("p",null,"To link things together, every block in Tellery has a url. We can reference a question by its block url."),(0,a.kt)("p",null,"The easiest way to reference a question is by having it in front of you. Move your mouse to the block and the ",(0,a.kt)("inlineCode",{parentName:"p"},"\u22ee\u22ee"),' icon will appear to the left of it. Click this handle, and then click "Copy link" button in the dropdown menu to copy its url to your clipboard.'),(0,a.kt)("p",null,"If you paste the url in the question editor, it will be automatically recognized by Tellery."),(0,a.kt)("video",{src:"/img/tutorial/copy-address.mp4",controls:!0}),(0,a.kt)("h3",{id:"search-for-them"},"Search for them"),(0,a.kt)("p",null,"When editing SQL in the question editor, type double curly braces ",(0,a.kt)("inlineCode",{parentName:"p"},"{{")," to invoke the question referencing."),(0,a.kt)("p",null,'Then start typing the name of the question you want to reference. Hit "Enter" to pull it in your editor when you\u2019ve found the question in the dropdown that appears.'),(0,a.kt)("video",{src:"/img/tutorial/search-question-ref.mp4",controls:!0}),(0,a.kt)("h2",{id:"some-advice-on-transformation"},"Some Advice on transformation"),(0,a.kt)("p",null,"Although transforming and re-shaping data can be very easy in Tellery, we recommend you govern transformations using a batch-based tool like ",(0,a.kt)("a",{parentName:"p",href:"https://www.getdbt.com/"},"dbt"),". Because you can assure data quality and improve performance there."),(0,a.kt)("p",null,"You can start with the question referencing to reduce clutter when answering questions on new datasets. But after the logic being mature, it's better to consolidate them in dbt to create a solid foundation that everyone can share."))}g.isMDXComponent=!0}}]);